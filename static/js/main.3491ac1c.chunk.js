(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(8),a=n.n(r),i=n(18),s=n(6),u=n(2),o="INCREMENT",j="DECREMENT",d="INPUT_TEXT",l="COMMENT_CREATE",b="COMMENT_UPDATE",O="COMMENT_DELETE",m="COMMENTS_LOAD",f="LOADER_DISPLAY_ON",p="LOADER_DISPLAY_OFF",v="ERROR_DISPLAY_ON",x="ERROR_DISPLAY_OFF",h={likes:0},g={text:""},k=n(5),y={comments:[]},E={loading:!1},N=Object(s.b)({likes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(u.a)(Object(u.a)({},e),{},{likes:e.likes+1});case j:return Object(u.a)(Object(u.a)({},e),{},{likes:e.likes-1});default:return e}},inputReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return t.type===d?Object(u.a)(Object(u.a)({},e),{},{text:t.text}):e},commentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{comments:[].concat(Object(k.a)(e.comments),[t.data])});case m:var n=t.data.map((function(e){return{text:e.name,id:e.id}}));return Object(u.a)(Object(u.a)({},e),{},{comments:[].concat(Object(k.a)(e.comments),Object(k.a)(n))});case b:var c=t.data,r=e.comments,a=r.findIndex((function(e){return e.id===c.id})),i=[].concat(Object(k.a)(r.slice(0,a)),[c],Object(k.a)(r.slice(a+1)));return Object(u.a)(Object(u.a)({},e),{},{comments:Object(k.a)(i)});case O:return function(){var n=t.id,c=e.comments,r=c.findIndex((function(e){return e.id===n})),a=[].concat(Object(k.a)(c.slice(0,r)),Object(k.a)(c.slice(r+1)));return Object(u.a)(Object(u.a)({},e),{},{comments:Object(k.a)(a)})}();default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case p:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case v:return Object(u.a)(Object(u.a)({},e),{},{error:t.text});case x:return Object(u.a)(Object(u.a)({},e),{},{error:null});default:return e}}}),R=n(4),D=n(13),T=n.n(D),_=n(15);function C(){return{type:p}}function L(e){return function(t){t({type:v,text:e}),setTimeout((function(){t({type:x})}),2e3)}}var I=["stupid","shit"];n(29),n(30);var A=n(1);var S=Object(R.b)((function(e){return{likes:e.likes}}),(function(e){return{onIncrementLikes:function(){return e({type:o})},onDecrementLikes:function(){return e({type:j})}}}))((function(e){var t=e.likes;return Object(A.jsxs)("div",{className:"button-controls",children:[Object(A.jsxs)("button",{onClick:e.onIncrementLikes,children:["Like",t.likes>0&&": ".concat(t.likes," \ud83d\udc4d")]}),Object(A.jsxs)("button",{onClick:e.onDecrementLikes,children:["Dislike",t.likes<0&&": ".concat(t.likes," \ud83d\udc4e")]})]})}));var M=function(e){var t=Object(R.d)((function(e){return e.inputReducer.text})),n=Object(R.c)();return Object(A.jsxs)("div",{className:"card-title",children:[Object(A.jsx)("div",{className:"card-title-top",children:Object(A.jsx)("input",{type:"text",onChange:function(e){n(function(e){return{type:d,text:e}}(e.target.value))}})}),Object(A.jsx)("p",{children:t})]})},w=n(10),F=n(16),P=n.n(F);var Y=function(e){var t=e.data,n=Object(c.useState)(""),r=Object(w.a)(n,2),a=r[0],i=r[1],s=t.text,u=t.id,o=Object(R.c)();return Object(c.useEffect)((function(){s&&i(s)}),[s]),Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(function(e,t){return{type:b,data:{text:e,id:t}}}(a,u))},className:"comments-item",children:[Object(A.jsx)("div",{onClick:function(e){e.preventDefault(),o(function(e){return{type:O,id:e}}(u))},className:"comments-item-delete",children:"\xd7"}),Object(A.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)}}),Object(A.jsx)("input",{type:"submit",hidden:!0})]})};var B=function(e){var t=Object(c.useState)(""),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(R.d)((function(e){return e.commentsReducer.comments})),s=Object(R.c)();return Object(c.useEffect)((function(){s(function(){var e=Object(_.a)(T.a.mark((function e(t){var n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,fetch("https://jsonplaceholder.typicode.com/comments?_limit=10");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,setTimeout((function(){t({type:m,data:c}),t(C())}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(L("Error API")),t(C());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(A.jsxs)("div",{className:"card-comments",children:[Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=P()();s(function(e,t){return{type:l,data:{text:e,id:t}}}(r,t))},className:"comments-item-create",children:[Object(A.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)}}),Object(A.jsx)("input",{type:"submit",hidden:!0})]}),!!i.length&&i.map((function(e){return Object(A.jsx)(Y,{data:e},e.id)}))]})},J=n(17),U=n.n(J),X=function(e){var t=Object(R.d)((function(e){return e.appReducer.loading}));return Object(A.jsx)("div",{className:"loader-styles",children:Object(A.jsx)(U.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,visible:t})})};var q=function(){var e=Object(R.d)((function(e){return e.appReducer.error}));return Object(A.jsx)("div",{className:"App",children:Object(A.jsxs)("div",{className:"wrap",children:[Object(A.jsx)(X,{}),Object(A.jsxs)("div",{className:"card",children:[e&&Object(A.jsx)("div",{className:"error-message",children:e}),Object(A.jsxs)("div",{className:"card-image",children:[Object(A.jsx)("img",{src:"./sea.jpg",alt:"surfing"}),Object(A.jsx)(M,{}),Object(A.jsx)(S,{})]}),Object(A.jsx)(B,{})]})]})})},z=Object(s.d)(N,Object(s.c)(Object(s.a)(i.a,(function(e){var t=e.dispatch;return function(e){return function(n){if(n.type===l&&I.some((function(e){return n.data.text.includes(e)})))return t(L("Stop scolding!"));return e(n)}}}))));a.a.render(Object(A.jsx)(R.a,{store:z,children:Object(A.jsx)(q,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.3491ac1c.chunk.js.map